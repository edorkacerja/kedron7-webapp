<acme-navbar></acme-navbar>
<div class="container" >

     <div class="row">
       <div class="col-sm-8 col-md-6">
        <div ng-show="bdetail.editMode">
          <div class="panel panel-default">
            <form name="bdetail.editForm" ng-submit="bdetail.update()" novalidate>
              <div class="panel-body">

                  <div class="form-group" ng-class="{ 'has-error' : bdetail.editForm.address.$error.required && bdetail.editForm.address.$dirty }">
                    <label for="address">Адрес</label>
                    <input type="text"  ng-model="bdetail.building.Address" class="form-control" id="address" placeholder="Address" required>
                    <span ng-show="bdetail.editForm.address.$error.required  && !adb.editForm.address.$pristine" class="help-block">Моля, въведете адрес!</span>
                  </div>
                  <div class="form-group" ng-class="{ 'has-error' : bdetail.editForm.location.$error.required && bdetail.editForm.location.$dirty }">
                    <label for="address">Град/Населено място</label>
                    <input type="text"  ng-model="bdetail.building.Location" class="form-control" id="location" placeholder="Location" required>
                    <span ng-show="bdetail.editForm.location.$error.required  && !bdetail.editForm.location.$pristine" class="help-block">Моля, въведете град или населено място!</span>
                  </div>
                  <div class="form-group" ng-class="{ 'has-error' : bdetail.editForm.floors.$error.required && bdetail.editForm.floors.$dirty }">
                    <label for="floors">Брой етажи</label>
                    <input type="number"  ng-model="bdetail.building.FloorsCount" class="form-control" id="floors" placeholder="Floors" required>
                    <span ng-show="bdetail.editForm.floors.$error.required  && !bdetail.editForm.floors.$pristine" class="help-block">Моля, въведете число от 1 до 80!</span>
                  </div>
                  <div class="form-group" ng-class="{ 'has-error' : bdetail.editForm.CompanyTax.$error.required && bdetail.editForm.ConpanyTax.$dirty }">
                    <label for="CompanyTax">Company Tax</label>
                    <input type="number"  ng-model="bdetail.building.CompanyTax" class="form-control" id="CompanyTax" placeholder="CompanyTax" required>
                    <span ng-show="bdetail.editForm.CompanyTax.$error.required  && !bdetail.editForm.CompanyTax.$pristine" class="help-block">Моля, въведете число от 1 до 80!</span>
                  </div>

                <div class="form-group">
                  <button ng-click="bdetail.delete()" class="btn btn-danger btn-sm pull-right">Премахни сграда</button>
                </div>
              </div>

              <div class="panel-footer">
                <button type="submit" ng-disabled="bdetail.editForm.$invalid" class="btn btn-success"> Запази промените </button>
                <button type="button" class="btn btn-warning" ng-click="bdetail.editMode = false;">Отказ</button>
              </div>
            </form>

          </div>
        </div>
            <!-- EDITING MODE -->
         <div ng-hide="bdetail.editMode">
             <div class="panel panel-default">
               <div class="panel-body">
                 <h3>{{bdetail.building.Address}}</h3>
                 <ul>
                   <li> Населено място: {{bdetail.building.Location}} </li>
                   <li> Брой етажи: {{bdetail.building.FloorsCount}}</li>
                   <li> Company Tax: {{bdetail.building.CompanyTax}}</li>
                 </ul>
                 <div class="well well-sm">
                   <h5 class="inline">Баланс:
                    <span ng-class="bdetail.building.Balance < 0 ? 'negative-balance' : 'positive-balance'">
                    {{bdetail.building.Balance | currency: 'лв. '}}
                   </span>
                   </h5>

                 </div>
               </div>
               <div class="panel-footer">
                 <button ng-click="bdetail.edit()"   class="btn btn-primary">Настройки</button>
               </div>
             </div>
         </div>
             <!-- Editing MODE -->
       </div><!-- buidling info end --><!-- /row -->
       <!-- nav -->
       <div class="col-sm-4 col-md-6">
         <ul class="nav nav-pills nav-stacked">
           <li ui-sref-active="active"><a ui-sref="buildingDetail.households({buildingId: bdetail.building.Id})">Жилища </a></li>
           <li ui-sref-active="active"><a ui-sref="buildingDetail.cashbook({buildingId: bdetail.building.Id})">Касова книга </a></li>
         </ul>
       </div>

     </div>
     <div ui-view=></div>
     <!-- ui-view for households and cashbook-->
</div><!-- container -->
